components:
  schemas:
    SessionResource:
      required:
        - status
        - expiry
      properties:
        status:
          type: string
          enum:
            - processing
            - complete
            - failed
          description: >
            For a payload submission 'status' processing reflects that provisioning is in progress
            Upon successful completion of the provisioning, status moves to completed, else
            failed.
        expiry:
          type: string
          format: date-time
          description: >
            time (UTC ISO 8601 timestamp) at which the resource associated with
            the endorsement provisioning session expires and may no longer exist. The
            client MUST assume that the endorsement provisioning session resource is
            garbage-collected at the specified time.
        details:
          type: string
          description: >
            Optional field to provide more details about the failure cause when provisioning status is `failed`
    Problem:
      required:
        - title
      properties:
        type:
          type: string
          description: >
            A URI reference [RFC3986] that identifies the problem type.  This
            specification encourages that, when dereferenced, it provide
            human-readable documentation for the problem type (e.g., using HTML
            [W3C.REC-html5-20141028]).  When this member is not present, its
            value is assumed to be "about:blank".
          example: about:blank
        title:
          type: string
          description: >
            A short, human-readable summary of the problem type.  It SHOULD NOT
            change from occurrence to occurrence of the problem, except for
            purposes of localization (e.g., using proactive content
            negotiation; see [RFC7231], Section 3.4).
          example: Not Found
        status:
          type: integer
          description: >
            The HTTP status code ([RFC7231], Section 6) generated by the
            origin server for this occurrence of the problem.
          example: 404
        detail:
          type: string
          description: >
            A human-readable explanation specific to this occurrence
            of the problem.
          example: no active session could be located at the requested URL
        instance:
          type: string
          format: uri
          description: >
            A URI reference that identifies the specific occurrence of
            the problem.  It may or may not yield further information if
            dereferenced.
          example: https://veraison.example/v1/problems/404
  responses:
    Error:
      description: >
        Unexpected error
      content:
        application/problem+json:
          schema:
            $ref: '#/components/schemas/Problem'
